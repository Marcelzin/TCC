<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/TCC/CSS/cadastro_prop.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css"
    />
    <title>Cadastro proprietário</title>
    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <div class="main">
      <div class="left">
        <form
          action="/TCC/QUERYS/cadastro_func.php"
          method="POST"
          id="cadastroForm"
          onsubmit="return cadastrar()"
          style="display: flex; flex-direction: column"
        >
          <div class="card">
            <div class="textfield">
              <h1>
                Crie a <span>conta</span> <br />
                de seu <span>funcionário!</span>
              </h1>

              <label for="nome" >Nome</label>
              <input
                maxlength="50"
                type="text"
                placeholder="Digite seu nome..."
                id="nome"
                name="nome"
                onkeypress="return apenasLetras(event)"
              />

              <div class="textfield">
                <label for="email">Email</label>
                <input
                maxlength="50"
                  type="email"
                  placeholder="Digite seu Email..."
                  id="email"
                  name="email"
                />
              </div>

              <div class="textfield">
                <label for="senha">Senha</label>
                <input
                  maxlength="15"
                  type="password"
                  placeholder="Digite sua senha..."
                  id="senha"
                  name="senha"
                />
              </div>

              <button type="submit" name="submit" id="submit" class="btn">
                Cadastrar
              </button>
            </div>

            <a href="/TCC/index.html" class="link"
              ><i class="fas fa-arrow-left"></i> Voltar</a
            >
          </div>
        </form>
      </div>

      <div class="right">
        <img src="" class="img" />
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.js"></script>
    <script>
      function apenasLetras(event) {
        const key = event.keyCode;
        return (
          (key >= 65 && key <= 90) || // letras maiúsculas
          (key >= 97 && key <= 122) || // letras minúsculas
          key === 8 || // tecla Backspace
          key === 32 // espaço
        );
      }

      function validarEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
      }

      function cadastrar() {
        const nome = document.getElementById("nome").value.trim();
        const email = document.getElementById("email").value.trim();
        const senha = document.getElementById("senha").value.trim();

        if (!nome || !email || !senha) {
          Swal.fire({
            icon: "error",
            title: "Erro",
            text: "Por favor, preencha todos os campos.",
            timer: 3000,
          });
          return false;
        }

        if (!validarEmail(email)) {
          Swal.fire({
            icon: "error",
            title: "Erro",
            text: "Por favor, insira um endereço de email válido.",
            timer: 3000,
          });
          return false;
        }

        if (senha.length < 8) {
          Swal.fire({
            icon: "error",
            title: "Erro",
            text: "A senha deve conter pelo menos 8 dígitos.",
            timer: 3000,
          });
          return false;
        }
      }
    </script>
  </body>
</html>
